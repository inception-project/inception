// Licensed to the Technische Universität Darmstadt under one
// or more contributor license agreements.  See the NOTICE file
// distributed with this work for additional information
// regarding copyright ownership.  The Technische Universität Darmstadt 
// licenses this file to you under the Apache License, Version 2.0 (the
// "License"); you may not use this file except in compliance
// with the License.
//  
// http://www.apache.org/licenses/LICENSE-2.0
// 
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

[[sect_annotation_recommendation]]
= Recommenders
After configuring one or more recommender in the <<sect_projects_recommendation, Project Settings>>,
they can be used during annotation to generate predictions. In the annotation view, predictions are
shown as grey bubbles. Predictions can be accepted by clicking once on them. In order to reject,
use a double-click. For an example how recommendations look in action, please see the screenshot
below.

image::recommendation1.png[align="center"]

Suggestions generated by a specific recommender can be deleted by removing the corresponding recommender
in the  <<sect_projects_recommendation, Project Settings>>. Clicking *Reset* in the _Workflow_ area
will remove all predictions, however it will also remove all hand-made annotations.

== Recommendation Sidebar

Clicking the speech bubble on the left opens the recommendation sidebar. There, one can set the
maximum number of recommendations that are displayed per span and feature. Also, by
ticking *Show hidden suggestions*, all recommendations are shown, even if an annotation at the given
position already exists. In order to save the new values, press *Save*.

image::recommendation_sidebar.png[align="center"]

=== Learning Curve Diagram

On the bottom of the recommendation sidebar, a learning curve diagram is shown. It plots a line for every recommender associated with the project. 
The learning curve line depicts the scores of a number of recent evaluations of a recommender. The y-axis of the chart represents the scores and the x-axis represents the time indices. For instance, if the recent 50 evaluations are plotted, the x-axis would be 0-50 with 50 being the latest point in time relative to the other points. Also, if the number of evaluations calculated so far are less than 50 then less points are shown on the x-axis. 
The shown score can be changed from accuracy to other scores via the retractable dropdown above the y-axis. 
The lines are only plotted for the enabled recommenders.

image::learning_curve_acc.png[500,350,align="center"]

== Accept/reject buttons

====
CAUTION: Experimental feature. To use this functionality, you need to enable it first by adding `recommender.action-buttons-enabled=true` to the `settings.properties` file (see the <<admin-guide.adoc#sect_settings, Admin Guide>>).
====

It is possible to enable explicit *Accept* and *Reject* buttons in the annotation interface. These
appear left and right of the suggestion marker as the mouse hovers over the marker.